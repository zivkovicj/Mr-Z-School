
2.38  IMPROVED RANKASSIGNMENTS BY NEED--PUSHED 10/26/2017
V Rank assignments by need should be based on the most requested, not the highest need.
    There are some downsides to this approach, but it should at least run quicker when creating a new consultancy and also when simply viewing a student's page.
    Because requested is a simple column in the join table. Not a method that looks at every student's readiness, which also iterates through pre-requisites. 
students_in_need may not be neccesary anymore
See whether it is actually used in student view

2.37 BUG WITH ADDING STUDENTS
There was a bug that caused the scoresheet to show "0" for students who were added to a class.
I found this was caused by the model adding a new objective_student for the assignment, even though the student already had one. The scoresheet was showing the new one.
Now the program only creates a new obj_stud if one doesn't yet exist.

2.36_HOTFIXES--STARTED 10/13/2017
Fix CSS for big_links
Make sure errors show up correctly when incomplete school info is entered. 
What if teacher doesn't enter a school id OR create a new school?
It seems many controllers are missing tests for flash info for errors
    I'm looking at controllers one at a time. I've reached "picture"
Picture tests   
    Test for submitting a picture with no file
    Picture Edit Test
The delete button should be in it's own div. Don't include a td within the partial.

2.35_CONSULTANT_MARKING -- STARTED 10/10/2017
                        -- PUSHED 10/13/2017
Students are being marked as consultant, even when not qualified.
Consultant View
    Consultant link from show page leads to the most recent consultancy
    On that page, there is a button to create a new one
    Or to see the index of all old ones
    Index includes option to delete
    And so does the show page
    Consultancy in navribbon

2.24_CONSULTANT ORDER -- STARTED 10/07/2017
                      -- PUSHED 10/10/2017
Goal of this update: consultant_days is based on the number of days since the last time that student was consultant in that class.
Then adjusted_consultant_days takes the student's request into account by simply adding a day for those who request positively. Then multiplying by a small factor.
    Subtract then divide for those who request negatively.
Marking students absent is failing again!
When a teacher adds a student to his/her class, update that student's sponsor
New school info should be in its own bubble

2.33 SCHOOL--STARTED 09/24/17
          --PUSHED 10/6/2017
Goal of this update: Student and Teacher accounts need to be assigned to a school.
    Searching for students can only occur within a school.
    Except for admin
Migration
    School Model
        Name
        City
        State
        Mentor
    User
        School_id
        Verified (Only applies to teacher)
        Sponsor (The teacher that created the student or last added the student to a class)
When a teacher starts a new account, first show a "School" page
    Choose from list of existing schools
    Or field and button to start a new one
        State picker selection box
    First teacher to create a school becomes that school's mentor
Approval by mentors
    When mentor logs in, if their school has unverified teachers, button to appove is offered
        This button appears at the top of the teacher's view page.
        Test that the message doesn't appear if all teachers are verified
    Once approved, all students created by new teacher have their school field updated
Searching
    Approved teachers can find students from the teacher's same school
    But not from other schools
    Unapproved teachers can find students they've sponsored
Migrate
    Update school_id
    Sponsor
    Verified
    




2.31 MOVE STUDENTS--STARTED 09/19/17
                    PUSHED 09/24/17
Goal: When teacher looks at a student, there's an option to move the student to a different class
    Underneath remove button, there's a "move" button
    The class choices are there from the beginning, but hidden. They appear when "move" button is pressed
    Clicking one of the classes creates a stud_sem
    Then deletes the old one
        Will need to add a parameter to the "add student" form to determine whether an old ss should be deleted.
Fix Removing a Student From a Class
Don't offer classes that the student is already in
New logo
Add to_unhide to themScores
Outline color for confirm buttons



2.30 BENCHMARK STARS--STARTED 09/13/17
Goal: Keep track of Benchmark stars. This will allow for tracking current stars. 
student_seminar needs benchmark_stars column.
Teacher can go to a benchmark_stars screen to set this
    By default, all students are checked in order to set them at once
     Teacher can uncheck some of them
    When submitted, benchmark stars are updated to equal the student's current stars
Scoresheet shows total stars, benchmark stars, and current stars
    Current stars is simply total subtract benchmark
Set default benchmark to the student's total stars
A bit of coloring for those columns in the scoresheet.
Show benchmark and current in student_view
Temporarily remove the feature to search for existing students. 
Add Privacy Policy to site
Migrate after deploy
    Set all existing benchmarks to zero


2.29 QUIZ PROGRESS--PUSHED 09/13/17

Goal: Track a student's progress on a quiz so the student can resume if interrupted.
Add "progress" column to quiz table
Update this column whenever student answers a question
On student's log-in page, offer "Unfinished quizzes"
Clicking an unfinished quiz brings student to the correct riposte
Unfinished quizzes no not appear in the other offerings
Answers should not display red if the problem is with spacing
When editing a multiple-choice question, current correct answer should be the default there too
Testing fails for all questions that include a picture
"Back to class" button should work as a whole button, not just the text
Enhance security so that my code isn't getting shown
Migrate after deploy
    Set progress for all eixsting quizzes



2.28 CORRECTED IMAGE UPLOADING--STARTED 09/07/17
                            --PUSHED 09/08/17

Signed up with Amazon s3 and configured heroku to work with it



2.27 HOTFIXES, SEP 2017--STARTED 08/24/17
                        --PUSHED 09/07/17

Screen for editing a label has headline twice.
When I was logged-in as an admin, I went back to the home screen, then tried to get to my profile. It threw an error because it tried to go to the students show page.
If a label is deleted, all the questions that had that label should be changed to "Unlabeled"
All delete buttons in all indexes should work the same as I just updated for the labels.
    And the tests.
Picture has associtions, so it's throwing the to_sym error
    Test deleting picture
Figure out how to handle the deletion of students and teachers in their indexes. Because those objects don't have a user column
Figure out what to do about teams upon deleting consultants or objectives. Teams will be left with dead links.
Right now ALL of the confirm buttons pop up when trying to delete an object. It should only pop up the appropriate button.
Labels should be ordered by name wherever they are listed.
    "Unlabeled" should come first in every list. Maybe just start it with a zero.
If a question is deleted, the quantities for label_objectives needs to be affected. Otherwise there will be a major error when trying to create a test for that objective.
    Either warn the user that many tests will be affected. Or don't allow deleting below the threshold for all tests that would be affected.




2.26 IMAGES WITH QUESTIONS--STARTED 08/23/17
                        -- PUSHED 08/28/17
Goal of this update: Allow teachers to associate uploaded images with specific questions. 

List options for labels when uploading a new image
Don't show destroy or edit button in picture index if the current_user isn't the correct one.
    Finish testing for this
Question edit form lists the images for the selected label
Display that image when the student is answering the riposte
quiz_size needs to be bigger. about twice
Picture should also show in the quiz report
Check whether checkboxes allow for changing labels
Need option for "No picture" that is set by default
    And can be set if user makes a mistake in clicking a picture.
Test changing picture in question edit form.
Finish "destroy" controller method for questions so that questions can be deleted.
Test for editing a question and changing its picture
Test in development
    Test changing the image manually
    Test changing a question to "No picture" manually
Re-insert the line that sets current_class to nil so that when editing questions, objectives, and labels, the back-link directs to teacher's show page, not a scoresheet.
Show image thumbnail in question index
Migrate to add :user to pictures
    And make sure that no pictures have a nil user







2.25 CUMULATIVE STARS--STARTED 08/19/17
                    --PUSHED 08/23/17
    Goal for this update: Keep track of the total number of stars that a student has earned and report that instead of the total number of points a student has earned
    Add total_stars method to SeminarStudent that sums the stars
    When a quiz is finished, if there were any stars earned, add them to the total_stars for all seminars which include that objective
        The test should try twice and see if the increase works both times.
    Show total_stars as the main feature of the student_view
    Show total_stars as the first column of the scoresheet instead of the Total Points
    Save a student's score as a multiple of 10.
    When a student finishes a test, the new stars should be a more attractive icon, instead of the asterisk.
    Consultant Threshold needs to be on a scale out of 10.
        Check the default
        And the choices for setting threshold
        And the seeds too.
    Try again to fix the error that occurs when the a too-large user-number is entered.
    The log-in form should go back to being a centered, offset column
    Change the description on the home page that makes it seem like the whole site is about DeskConsultant
    The logo in the footer links to Desk Consultants.com. It should link to the new, correct site.
    Need to update last_login upon creating a new account Otherwise it's nil and creates an error in the index.
    Links to go "Back to your Class Page" or "Try this Quiz again" are not friendly



2.24 HOTFIXES--STARTED 08/14/17
            --PUSHED 08/18/17
Made it so that the pretest options don't show up if the teacher didn't add any objectives to the classroom. That was pretty confusing.
Clean up the new and create actions in the objectives controlleR
Error upon entering a student number that's too long
    4358204269 is out of range for ActiveModel::Type::Integer with limit 4 (Stud number too long)
Eliminate the back-link on the scoresheet view because it links to itself.
Change "Label for Pictures" to Unlabeled
Short_name should include 30 digits instead of 20.
    Most of those forms shouldn't be displayed in the squished-centered version.
"Quantities and Point Values" should go on a separate line
"Back to Your Class Page" should be a button.
Add a "Try Again" button for the student when she finishes a quiz?
Migrate heroku after push


2.23 IMPORTANT FIXES BEFORE ANNOUNCING TO OTHER TEACHERS--STARTED 08/13/07
                                                        --PUSHED 08/14/17
Goal of this update: Fix a few errors before offering the program to the teachers who have expressed interest.
Comment out the links to pictures. Return them after I fix the pictures features in the next update
Make sure that teacher can submit an objective without selecting some labels.
The update action for the seminar_students controller is no longer needed
Test that no errors occur if a user creates an objective without any labels
There were no seeded objectives with a "public" extent. There needs to be some.
An error occurs when students try to take a quiz that doesn't have any questions.
I learned how to use "Like" in the index. So I don't think I need to downcase names anymore. I can allow users to input the names how they want.
Take another look at "boulderfist" classtype and the dialog box that it should produce
Message about having no questions should go in the quantities screen. Not on the teacher show view
    Test for this message
    And also for the message in the quantities view that a label does not have any questions.
Make icons for all screens that should have one.
    Student
    Students
    Teacher
    Picture
    Multiple Consultancies
    Seminar
Teacher clicking on "Consultancies" when none exist yet.
Clicking on a class in the navribbon directs to that class show view. It should direct to the scoresheet or edit view.



2.22 FILL-IN QUESTIONS-- STARTED 08/08/17
                    --PUSHED 08/13/17

    Goal of this update: Offer "Fill-in" questions as an option for teacher who are writing assessments
    Question table needs to be updated with the "style" attribute
        Validation must require "style" for every question
    Test for if a question is at first invalid, but then submitted successfully
    When user begins writing questions, they first choose label and type on one screen
        Editing prompt and answer choices will occur on the next screen.
        But answer choices won't be offered for "fill-in" questions. Instead, several blanks to enter all possible answers
        Saving these questions saves an array with many possible answers
    When comparing student answer to the correct answers, both sides is downcased and spaces are removed.
    Make sure that questions can be checked and graded correctly.
    Test changing label and extent
    While editing a question, don't allow editing the style
    Add Style for seed questions
        And seed a few fill-in questions
    Instead of splitting all the different form parts by @assignPermission, redirect the user to show or edit based on that variable.
        Update the tests for viewing another teacher's question.
    Test for editing fill-in questions
    The fixtures probably don't need to load associations in the test helper anymore




2.21 PRE-TEST QUIZ UNLOCKS--STARTED 08/05/17
                            -- PUSHED 08/08/17
    Goal of this update: Many quizzes can be set as pre-tests so that they are open to every student upon joining that class.
        
    This attribute is edited between the first seminar editing screen and the priorities. It only lists the objectives that are already in that class. 
        Teacher can check which objectives should be considered as pre-test objectives. Doing this adjusts a column in the objective_seminar model.
    ObjectiveSeminar model needs column for pre-test
        I'm coding that as an integer, not a boolean. That way, in the future, I might be able to set some pre-tests to open during 2nd or 3rd term
            instead of opening them all at the beginning.
    Create the view with the checklists
        Ensure that checks are working to adjust the pre-test attribute
        Ensure that routing to the next screen is still functioning.
    Test pretests and priorities for a new seminar
    Test a view that includes desk consultants objectives and pretest objectives both
    When new students join the class, the pre-tests are open to them.
        Lowest-level quizzes are offered immediately. Higher-level quizzes are offered if the student is ready for them.
        Test in seminar model should also check that unwanted assignments don't appear in pretest offerings
    Objectives where student has scored 100 removed from pretest offerings
    Objectives that student has attempted twice removed from pretest offerings
    Guard if a team has no objective so that student does not get an error in the view.
    Make sure to downcase usernames or it creates a problem with finding them
    Try to Eager load in a few spots
    has_not_scored_100 needs to apply to consultant objectives as well as pretest objectives
    Put the checkbox updating into on transaction so that servers, etc. never see the intermediate state.
    Clean up the routes file now that I know about :collection and :member

2.20 SINGLE-TABLE INHERITANCE--STARTED 07/30/17
                             --PUSHED 08/05/17
    One table for User
        Sub-table for teacher
        Sub-table for admin
        Sub-table for student
    Update the seeds
    Change "student_number" to "user_number" so that teachers can have Id numbers
        Search for all instances of student_number
    Look for all uses of the word "role"
    All of the calls to  'shared/teacher_name_and_edit' need input for the user: variable
    Capybara tests to replace all user tests that became teacher tests.
    Look for all instances of user_path or users_path
    Student test for when password is present
    Don't allow a student and a teacher with the same e-mail
    The total_points function in the Student model was made more efficient
    correct_user functions moved to the application controller
        Changed name to correct_owner
    Some calls to user_is_an_admin need to be redirect_for_non_admin
    Added tests for editing students.
    Dried up instances of current_user && current_user.type
    The require "rubygems" line was no longer necessary, but keep it in mind in case of UI failure
    "Users" controller and views are no longer be necessary
    Mr. Z School Logo


2.19  REMAKE APP IN NEW WORKSPACE--STARTED 07/18/2017
                           PUSHED 07/30/2017
    Start a new workspace that doesn't use the tutorial configuration
    Destroying user's seminars and objectives needs to move from the controller to the model.
    Look at the edit action for the users controller. It looks like it's set up to work
    for students, not teachers.
    Put teacher titles into the DB seeds
    And Questions



****  THIS POINT MARKS THE BEGINNING OF THE VERSION NOTES. BEFORE THIS, I WAS
LISTING NOTES IN ASCENDING CHRONOLOGICAL ORDER.



VERSION 2.11 ADD QUESTIONS TO DB
    Migrate after deploy
        There might be an issue with the migration that added created_by to objectives
        Roll back to this migration. Then erase all old objectives.
        Need to eliminate the reference to "0" as a question/objective creator.
        
VERSION 2.12 UPDATED TESTS AFTER QUESTIONS
    Placement of created date in questions index
    Admin shows "Admin Page" and "Back to your Profile"
        Get rid of "Admin" link.
        Creating a question seems to be missing the "Back to your profile" link
    Test for message for teachers who haven't made any private objectives
    Make sure that when a user is deleted, to also delete that user's objectives.
        Otherwise those objectives will return an error.
        
VERSION 2.13 ASSIGN LABELS TO QUESTIONS
    User can create labels
        And edit
        And index
    Question form gives list of choices for labels
        "No label yet" option is the default checked radio button
        Write a test for that
    Default label is "Unlabeled"
    Label form lists questions that don't yet have a label
    Edit permission message should only appear once in the form, instead of appearing on every attribute.
    Question index allows showing questions by label
       Remember which labels are checked after form is submitted.
    Icon for label
    I suspect the live site might have issues with assigning a question with a label_id 0
        But if not, then leave that part alone.
        
        
VERSION 2.14 LABELJOINS (Later renamed to Objective_Seminars)
    Flaw from previous update where questions index wasn't showing labels to choose from.
    Next, make it so that checking a label creates a labeljoin
    Partial needs to include the permission aspect
    Test that mainassigns do not appear as a choice for a possible preassign
    Editor can edit how many questions from each label appear on the quiz for that objective.
    Editing Objectives goes to a radio button list of available labels so teacher can which label a question fits
        Then another screen where the teacher can choose how many questions from each label
        and the point value of each question from that label
    Total Point Calculator that updates as the values are changed.
    Test for editing labeljoins
        Test for Deleting a labeljoin
    Create a New Objective should read "Private Objective" instead of "Public Objective"
    "objective Created" should read, "Objective Created"
    Creating an objective needs to re-route to quantities, just like editing an objective does.
    
UPDATE 2.15 CREATE QUIZ PUSHED 07/11/17
    When student clicks on the objective, a new quiz instance is created.
    Ripostes (Quiz_question joins) are created for each question associated with that quiz 
    Ruby chooses random questions to put on the quiz
    Add an attribute to riposte to keep track of that riposte's order in the quiz.
    instead of using twenty different answer choices saved and
        twenty different responses, the controller should save an array of correct
        responses. (The array is for future questions where multiple correct
        answers are possible.)
    Now there's a new function to create scores for each student.
        That should be moved from quiz_test into test_helper
        And setup in all models that need it.
    Show total score at top and bottom of quiz report.
    I think that life will be easier and more readable if I give each riposte a
        column to show its points possible.
    Save the whole answer in reponse column of riposte, not just "true" or "false"
    Student sees first question, responds, and submits
        Response is saved in riposte (quiz_question join)
    Student sees second question, etc.
        etc.
    Total score for quiz is calculated
    If student has improved, score for that objective is updated
    Will need to rollback migration after deploy to change the type of the response columns
    
    
    
    
2.16 CONSULTANCIES -- STARTED 07/11/17
                      PUSHED 07/15/17
    Quiz Answer Choice order is randomized
    .pluralize display for the word stars in Quiz report
    Button to go back to class (or at least profile) after taking quiz.
        Add current_class to student modeL
    Consultancy model
        Seminar
        Date
        Has many Teams
    Team model
        Has one topic
        Has one leader
        Has many members
        Type (normal, unplaced, absent)
    Can get rid of studentHash[:placed] 
    Consultancy is created and detailed when teacher chooses "DeskConsulants"
    Desk Consultants view should be changed to be based on @consultancy
        Now see if the view works
    When teacher views class, she can view all the consultancies for that class
    Migrate to add current_class to student
    
2.17 LOCKED QUIZZES -- STARTED 07/15/17
                        PUSHED 07/18/17
    Rename Score to objectiveStudent to follow convention
        Model has "unlocked" attribute
    Rename StudentsTeam to StudentTeam (singular)
    When a consultancy is created, Quiz is unlocked for to all students
        who have that topic
    Students can only see unlocked objectiveS
    Try to implement eager loading where applicable
    Erase oldest consultancy when a class has more than 9
    Erase first consultancy in a day if a second is created.
    
2.18 MULTIPLE QUESTIONS -- STARTED 07/18/2017
                          PUSHED 07/20/2017
    When clicking on "Create a new question," it brings up a form with only one
        spot to choose "public" or "private" and one spot to choose labels. But
        five spots for prompt and answer choice.
    Test for multiple questions
    Header in "Create new Students" view
    Buttons for label and extent aren't showing properly.
    Don't create 5 questions if no prompt is entered for the last few.
    Default checked label
<% provide(:title, 'Search for a Student') %>
<h1>Search for a Student</h1>


<%= form_tag search_url, :method => :get do %>
  <p>
    <%= label_tag "Student Number", "Student number" %>
    <%= text_field_tag :search, params[:search], :id => "Student Number" %>
    <%= submit_tag "Search by Student Number", :name => nil, 
      :controller => :students, :action => :search  %>
  </p>
<% end %>

<div>
  <% if @students %>
    <%= will_paginate %>
    
    <ul class="users">
      <% @students.each do |student| %>
        <li>
          <%= student.lastNameFirst %>
          <%= form_for(@aula) do |a| %>
            <%= a.hidden_field :seminar_id, :value => @seminar.id %>
            <%= a.hidden_field :student_id, :value => student.id %>
            <% if @seminar.students.include?(student) == false %>
              <%= a.submit "Add to this class", class: "btn btn-primary" %>
            <% else %> 
              <p>Already registered for this class</p>
            <% end %>
          <% end %>
          <hr>
        </li>
      <% end %>
    </ul>
  <% else %>
    <p>No students found with that Id Number</p>
  <% end %>
</div>
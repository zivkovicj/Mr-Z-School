<% provide(:title, 'All users') %>

      <%= button_to "Back to Your Profile", user_path(current_user), 
         class: "btn btn-lg btn-primary", :method => :get, :id => "back_button" %>

<h1>All Users</h1>

<%= render :partial => 'shared/searchField', 
  :locals => {:whichPath => users_path,
              :attrLabel1 => "ID", :attrLabel2 => "Last Name", :attrLabel3 => "First Name", :attrLabel4 => "E-Mail", :attrLabel5 => nil,
              :attrData1 => :id,       :attrData2 => :last_name,  :attrData3 => :first_name, :attrData4 => :email, :attrData5 => nil} %>

<%= will_paginate %>

<table class="users">
  <thead>
    <tr>
      <td>Delete</td>
      <td>Id</td>
      <td>Last Name</td>
      <td>First Name</td>
      <td>email</td>
      <td>Seminar Count</td>
      <td>Student Count</td>
      <td>last_login</td>
      <td>created_at</td>
    </tr>
  </thead>
  <tbody>
    <% @users.each do |user| %>
      <tr class="users">
        <td><%= link_to "delete", user, method: :delete,
                        data: { confirm: "Are you sure?" }, :id => "delete_#{user.id}" %></td>
                        
        <td><%= link_to user.id, user %></td>
        <td><%= user.title %> <%= link_to user.last_name, user %></td>
        <td><%= link_to user.first_name, user %></td>
        <td><%= user.email %></td>
        <td><%= user.own_seminars.count %></td>
        <td><%= user.students.count %></td>
        <td><%= user.last_login.strftime("%Y-%m-%d") %></td>
        <td><%= user.created_at.strftime("%Y-%m-%d") %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<%= will_paginate %>

<br/>
<%= link_to "Add New User", signup_path(), class: "btn btn-lg btn-primary" %>
